<!--
  ~ Copyright 2014. Arakcheev Artem (artem.arakcheev@phystech.edu)
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<div class="page" ng-controller="WboxDocEdit as parent">
    <div class="row">
        <div class="col-md-9">
            <section class="panel panel-default">
                <form role="form">

                    <div class="panel-heading">
                        <strong><span class="glyphicon glyphicon-th"></span>
                            Document edit</strong>
                    </div>

                    <div class="panel-body">
                        <div class="pull-right document-ti-font" ng-show="isEdit">
                            <span class="ti-trash pointer" ng-click="del()"></span>
                        </div>
                        <div class="section-header">
                            <button class="btn btn-default" ng-click="$back()"><< Back</button>
                            <button class="btn btn-default" ng-click="gen()">
                                <span class="glyphicon glyphicon-floppy-disk"></span>
                                {{!idEdit? 'Save new revision':'Save'}}
                            </button>
                        </div>

                        <div>
                            <div class="form-group">
                                <label for="label-name">Document name</label>
                                <input type="text"
                                       class="form-control"
                                       id="label-name"
                                       value="This is the name of document"
                                       ng-model="document.name">
                            </div>
                        </div>
                    </div>

                    <tabset>

                        <tab heading="Main params">
                            <div class="panel-body">
                                <span class="glyphicon glyphicon-tags"></span>
                                Tags
                                <tags-input ng-model="document.tags" class="ui-tags-input"></tags-input>
                            </div>

                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label for="label-name">Publish date</label>

                                        <p class="input-group">
                                            <input type="text"
                                                   class="form-control"
                                                   datepicker-popup="{{format}}"
                                                   ng-model="document.pd"
                                                   is-open="pd.opened"
                                                   datepicker-options="dateOptions"
                                                   date-disabled="disabled(date, mode)"
                                                   close-text="Close"/>
                                      <span class="input-group-btn">
                                        <button type="button"
                                                class="btn btn-default"
                                                ng-click="openPd($event)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
                                      </span>
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label for="label-name">Unpublish date</label>

                                        <p class="input-group">
                                            <input type="text"
                                                   class="form-control"
                                                   datepicker-popup="{{format}}"
                                                   ng-model="document.upd"
                                                   is-open="upd.opened"
                                                   datepicker-options="dateOptions"
                                                   date-disabled="disabled(date, mode)"
                                                   close-text="Close"/>
                                      <span class="input-group-btn">
                                        <button type="button"
                                                class="btn btn-default"
                                                ng-click="openUpd($event)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
                                      </span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </tab>

                        <tab heading="Mask params">
                            <div class="panel-body">
                                <div class="document-param panel-default"
                                     ng-repeat="(name,type) in mask.params">
                                    <div wbox-param type="type" name="name"></div>
                                </div>
                            </div>
                        </tab>

                    </tabset>


                </form>
            </section>
        </div>

        <div class="col-md-3">
            <section class="panel panel-default">
                <div class="panel-body">
                    this is side bar
                </div>
            </section>
        </div>
    </div>

</div>